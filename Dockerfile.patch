FROM ghcr.io/open-webui/open-webui:main

# Update the WebUI name
ENV WEBUI_NAME="eagleGPT"

# Copy our fixed frontend files
COPY src/routes/(app)/+layout.svelte /app/src/routes/(app)/+layout.svelte
COPY src/routes/+layout.svelte /app/src/routes/+layout.svelte

# Copy any other custom files
COPY src/lib/components/layout/Sidebar/Footer.svelte /app/src/lib/components/layout/Sidebar/Footer.svelte

# Rebuild only the frontend
WORKDIR /app
RUN npm run build